
Процедура КнопкаВыполнитьНажатие(Кнопка)

	Если ЗначениеЗаполнено(КаталогЖурналаСервера) Тогда
		Если Не ирОбщий.ЛиКаталогДоступенЛкс(КаталогЖурналаСервера) Тогда
			Возврат;
		КонецЕсли; 
	КонецЕсли; 
	ирОбщий.СохранитьЗначениеЛкс("ирАнализТехножурнала.АвтоочисткаТехножурнала", АвтоочисткаТехножурнала);
	ирОбщий.СохранитьЗначениеЛкс("ирАнализТехножурнала.ВыраниватьДатуПоСерверу", ВыраниватьДатуПоСерверу);
	ирОбщий.СохранитьЗначениеЛкс("ирАнализТехножурнала.КаталогЖурналаСервера", КаталогЖурналаСервера);
	ирОбщий.СохранитьЗначениеЛкс("ирАнализТехножурнала.КаталогТрассыПоПользователю", КаталогТрассыПоПользователю);
	ЭтотОбъект.КомментироватьЗагрузку = ЭтаФорма.КомментироватьЗагрузку;
	ЭтотОбъект.КоличествоПотоков = ЭтаФорма.КоличествоПотоков;
	Закрыть(Истина);
	
КонецПроцедуры

Процедура ПриОткрытии()
	
	ирКлиент.Форма_ПриОткрытииЛкс(ЭтаФорма);
	ЭтаФорма.АвтоочисткаТехножурнала = ирОбщий.ВосстановитьЗначениеЛкс("ирАнализТехножурнала.АвтоочисткаТехножурнала");
	ЭтаФорма.ВыраниватьДатуПоСерверу = ирОбщий.ВосстановитьЗначениеЛкс("ирАнализТехножурнала.ВыраниватьДатуПоСерверу");
	ЭтаФорма.КаталогЖурналаСервера = ирОбщий.ВосстановитьЗначениеЛкс("ирАнализТехножурнала.КаталогЖурналаСервера");
	ЭтаФорма.КаталогТрассыПоПользователю = ирОбщий.ВосстановитьЗначениеЛкс("ирАнализТехножурнала.КаталогТрассыПоПользователю");
	ЭлементыФормы.КаталогЖурналаСервера.ТолькоПросмотр = ирКэш.Получить().ЭтоФайловаяБаза;
	ЭтаФорма.КомментироватьЗагрузку = ЭтотОбъект.КомментироватьЗагрузку;
	ЭтаФорма.КоличествоПотоков = ЭтотОбъект.КоличествоПотоков;
	Если Не ЭлементыФормы.КаталогЖурналаСервера.Доступность Тогда
		ЭтаФорма.КаталогЖурналаСервера = "";
	КонецЕсли; 
	ирКлиент.НастроитьПоляВводаПараметровПотоковЛкс(ЭтаФорма, Ложь);
	
КонецПроцедуры

Процедура КаталогЖурналаТрассыПриИзменении(Элемент)
	
	ирКлиент.ПолеВводаСИсториейВыбора_ПриИзмененииЛкс(Элемент, ЭтаФорма);

КонецПроцедуры

Процедура КаталогЖурналаТрассыНачалоВыбора(Элемент, СтандартнаяОбработка)
	
	ирКлиент.ПолеФайловогоКаталога_НачалоВыбораЛкс(Элемент, СтандартнаяОбработка);

КонецПроцедуры

Процедура КаталогЖурналаТрассыНачалоВыбораИзСписка(Элемент, СтандартнаяОбработка)
	
	ирОбщий.ПолеВводаСИсториейВыбора_ОбновитьСписокЛкс(Элемент, ЭтаФорма);

КонецПроцедуры

Процедура КаталогЖурналаТрассыОткрытие(Элемент, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	ЗапуститьПриложение(Элемент.Значение);

КонецПроцедуры

Процедура ВнешнееСобытие(Источник, Событие, Данные) Экспорт
	
	ирКлиент.Форма_ВнешнееСобытиеЛкс(ЭтаФорма, Источник, Событие, Данные);

КонецПроцедуры

Процедура ПередЗакрытием(Отказ, СтандартнаяОбработка)
	
	ирКлиент.Форма_ПриЗакрытииЛкс(ЭтаФорма);
	
КонецПроцедуры

Процедура ТабличноеПолеПриПолученииДанных(Элемент, ОформленияСтрок) Экспорт 
	
	ирКлиент.ТабличноеПолеПриПолученииДанныхЛкс(ЭтаФорма, Элемент, ОформленияСтрок);

КонецПроцедуры

Процедура КоличествоПотоковОчистка(Элемент, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
	Элемент.Значение = 1;
КонецПроцедуры

ирКлиент.ИнициироватьФормуЛкс(ЭтаФорма, "Обработка.ирАнализТехножурнала.Форма.НастройкаЧтения");
